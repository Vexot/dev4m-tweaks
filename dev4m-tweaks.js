(()=>{"use strict";const t={AAA:"https://cdn.discordapp.com/emojis/626147013070684161.gif?v=1",thonk_smile:"https://cdn.discordapp.com/emojis/451214432131874837.png?v=1",flushing:"https://cdn.discordapp.com/emojis/808498786279882762.gif?v=1",flusheando:"https://cdn.discordapp.com/emojis/808498786279882762.gif?v=1",ice_cube_neutral:"https://cdn.discordapp.com/emojis/817498095959932993.png?v=1",xdd:"https://cdn.discordapp.com/emojis/408457517832732675.png?v=1",xd:"https://cdn.discordapp.com/emojis/408457388144853004.png?v=1",bit_bobux:"https://cdn.discordapp.com/emojis/817483409324113930.png?v=1",pensive_splash:"https://cdn.discordapp.com/emojis/591821888175603713.gif?v=1",premium:"https://cdn.discordapp.com/emojis/614587108350492702.png?v=1"};function e(e){e.addEventListener("input",(()=>{e.value=e.value.replace(/:(.*?):/,((e,s)=>{const o=t[s];return o?`<img src="${o}" width=20 height=20 title=":${s}:">`:`:${s}:`}))}))}function s(t,e){return`<span style="border: 2px solid ${e};border-radius: 10000px;padding: 2px 8px;font-size: 10px;">\n${t}</span>`.replace("\n","")}const o={op:s("OP","green"),visitor:s("VISITOR (TL0)","#95A5A6"),member:s("MEMBER (TL1)","#68D1F1"),regular:s("REGULAR (TL2)","#4B9CFA"),editor:s("EDITOR (TL3)","#AC96EC"),leader:s("LEADER (TL4)","#D7C7FF"),bobox:s("BOBUX MAN","#00B7F6"),godefficients:s("GODEFFICIENTS","#8119d1"),suspended:'<span title="Suspended">\n<svg class="fa d-icon d-icon-ban svg-icon svg-string" xmlns="http://www.w3.org/2000/svg" style="color:#e45735 !important">\n<use xlink:href="#ban"></use></svg></span>'.replace("\n"," ")},n={1311:"bobox",112950:"godefficients"},i={},r={},a={tl0:[],tl1:[],tl2:[],tl3:[],tl4:[]},c=["visitor","member","regular","editor","leader"];let d=[],l=[];const p={method:"GET"},u="-!--user-flaired";function f(t,e){for(const s of t.childNodes)if(s.classList.contains(e))return s;return null}function m(t,e){const s=o[e];let n;for(let e of t.getElementsByClassName("row"))if(n=f(e,"topic-body"),n)break;const i=f(n,"topic-meta-data");f(i,"names").innerHTML+=s}function g(t){!function(t){t.parentElement.classList.contains("topic-owner")&&(t.classList.contains("-!-has-op-flairs")||(m(t,"op"),t.className+=" -!-has-op-flairs"))}(t),async function(t){if(t.classList.contains(u))return;t.className+=` ${u}`;const e=t.getAttribute("data-user-id"),s=t.getAttribute("data-post-id");if(null===s)return;const{trustLevel:o,userInfo:n}=await async function(t,e){const s={};for(let e=0;e<5;e++)if(-1!==a[`tl${e}`].indexOf(t)){s.trustLevel=c[e];break}const o=await fetch(`https://devforum.roblox.com/posts/${e}.json`,p);if(!o.ok)return console.log(o.statusText),{error:o};const n=await o.blob(),i=JSON.parse(await n.text());return a[`tl${i.trust_level}`].push(t),s.trustLevel=c[i.trust_level],s.userInfo=i,s}(e,s).catch(console.log);let i=!1;n&&(i=await async function(t,e){if(-1!==d.indexOf(t))return!0;if(-1!==l.indexOf(t))return!1;const s=await fetch(`https://devforum.roblox.com/u/${e.username}.json`,p);if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);const o=await s.blob();return JSON.parse(await o.text()).user.suspended_till?(d.push(t),!0):(l.push(t),!1)}(t.getAttribute("data-user-id"),n).catch(console.log)),o&&m(t,o),i&&m(t,"suspended")}(t),function(t){if(t.classList.contains("-!-has-user-flairs"))return;const e=t.getAttribute("data-user-id"),s=t.getAttribute("data-post-id"),o=t.getAttribute("data-topic-id");n[e]&&m(t,n[e]),i[s]&&m(t,i[s]),r[o]&&m(t,r[o]),t.className+=" -!-has-user-flairs"}(t)}window.addEventListener("load",(function(){setInterval((()=>{for(let t of document.getElementsByTagName("article"))g(t);for(let t of document.getElementsByClassName("d-editor-input"))e(t);for(let t of document.getElementsByClassName("flag-message"))e(t)}),1e3)}))})();